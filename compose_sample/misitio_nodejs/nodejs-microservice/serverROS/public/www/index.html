<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

  
    <!-- https://fonts.google.com/specimen/Open+Sans -->
    <link rel="stylesheet" href="css/fontawesome.min.css">

    <!-- https://fullcalendar.io/ -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/tooplate.css">
   

    <!-- https://jquery.com/download/ -->
    <script type="text/javascript" src="js/addons/jquery-3.3.1.min.js"></script>
        <!-- https://momentjs.com/ -->
    <script src="js/addons/moment.min.js"></script>
    <script src="js/addons/utils.js"></script>
    <script src="js/addons/Chart.min.js"></script>
    <!-- https://fullcalendar.io/ -->
    <script src="js/addons/bootstrap.min.js"></script>
    <!-- https://getbootstrap.com/ -->
	<script src="js/addons/tooplate-scripts.js"></script>
	
	
	<script> 
		$(function(){
		  $("#modal_1").load("/html-content/modal_start_test.html"); 
		});
		</script>
</head>

<body id="reportsPage" >
	
    <div class="" id="home">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <nav class="navbar navbar-expand-xl navbar-light bg-light">
                        <a class="navbar-brand" href="#">
                            <i class="fas fa-3x fa-cogs tm-site-icon"></i>
							<h1 class="tm-site-title mb-0">Robotnik</h1>
							
                        </a>
                        <button class="navbar-toggler ml-auto mr-0" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>

                        <div class="collapse navbar-collapse" id="navbarSupportedContent">
                            <ul class="navbar-nav mx-auto">
                                <li class="nav-item">
                                    <a id="a-1" class="nav-link active" href="index.html">Ventana de producción</a>
                                   <span class="sr-only">(current)</span>
                                </li>
                           
                                <li class="nav-item">
                                    <a id="a-2"class="nav-link" href="monitorizacion.html">Monitorización</a>
                                </li>

                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
                                        aria-expanded="false">
                                        Test
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                        <a class="dropdown-item" href="test_a_realizar.html">Test a realizar</a>
                                        <a class="dropdown-item" href="test_finalizados.html">Test finalizados</a>
                                        <a class="dropdown-item" href="crear_test.html">Crear test</a>
                                    </div>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="robots.html">Robots</a>
                                </li>

                                <li class="nav-item">
                                    <a class="nav-link" href="ajustes.html">Ajustes</a>
                                </li>
                                
                            </ul>
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a class="nav-link d-flex" href="login.html">
                                        <i class="far fa-user mr-2 tm-logout-icon"></i>
                                        <span>Logout</span>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </div>
            <!-- Content -->
            <div class="row tm-content-row tm-mt-big" id="content-body">
			    <div class="tm-col tm-col-big">
			        <div class="bg-white tm-block h-100">
						<h2 class="tm-block-title">Performance</h2>
						<p>Example</p>
			            <canvas id="barChart"></canvas>
					</div>
				
			    </div>
			    <div class="tm-col tm-col-big">
			        <div class="bg-white tm-block h-100">
					  <h2 class="tm-block-title">Información y Estado</h2>
					  <p>Máquina local</p>
			          <div id="status" class="alert">

			          </div>
			          <div id="status2" class="alert">

			          </div>
			            <div class="input-group mb-3 input-group-sm" style="visibility: hidden;">
			                <div class="input-group-prepend">
			                  <span class="input-group-text">Topic</span>
			               </div>
			               <input id="input_name" type="text" class="form-control">
			             </div>
			             <div class="input-group mb-3 input-group-sm" style="visibility: hidden;">
			                <div class="input-group-prepend">
			                  <span class="input-group-text">Tipo</span>
			               </div>
			               <input id="input_type" type="text" class="form-control">
			             </div>
			        </div>
			    </div>
			    <div class="tm-col tm-col-small">
			        <div class="bg-white tm-block h-100">
			            <h2 class="tm-block-title">Máquina Local</h2>
                        <div id="machine_local_info">
                        </div>
			        </div>
			    </div>

			    <div class="tm-col tm-col-big">
			        <div class="bg-white tm-block h-100">
			            <div class="row">
			                <div class="col-8">
			                    <h2 class="tm-block-title d-inline-block">Últmos tests realizados</h2>

			                </div>
			                <div class="col-4 text-right">
			                    <a href="test_finalizados.html" class="tm-link-black">Ver Todos</a>
			                </div>
						</div>
						
			            <ol id="list_test_ready" class="tm-list-group tm-list-group-alternate-color tm-list-group-pad-big">
			                
			            </ol>
			        </div>
			    </div>
			    <div class="tm-col tm-col-big">
			        <div class="bg-white tm-block h-100">
                        <div class="row">
                        <div class="col-8">
                        <h2 class="tm-block-title">Tests</h2>
                        </div>
                        <div class="col-4 text-right">
                            <a href="test_finalizados.html" class="tm-link-black">Ver Todos</a>
                        </div>
                    </div>
			               
							<ol id="list_test" class="tm-list-group tm-list-group-alternate-color tm-list-group-pad-big">
								
							</ol>
			                
			            

			        </div>
				</div>
			</div>	
				<div class="tm-col tm-col-big" style="visibility: hidden;">
			        <div class="bg-white tm-block h-100">
			            <h2 class="tm-block-title">Tests sin modelo</h2>
			         
			           
			               
							<ol id="list_test_without_model" class="tm-list-group tm-list-group-alternate-color tm-list-group-pad-big">
								
							</ol>
			                
			            

			        </div>
			    </div>
		

	
			<script  type="module" src="js/index.js"></script>
			<script>

			     // barChart, pieChart;
			      // DOM is ready
			      $(function () {
			          updateChartOptions();
			          drawBarChart(); // Bar Chart

			          $(window).resize(function () {
			              updateChartOptions();
			              ///updateBarChart();
			              reloadPage();
			          });
			      })

			  </script>
			  <!-- Modal -->
			  <div id="modal_1"></div>
            <!-- Footer -->
            <footer class="row tm-mt-small">
                <div class="col-12 font-weight-light">
                    <p class="d-inline-block tm-bg-black text-white py-2 px-4">
                       Web Robotnik
                    </p>
                </div>
            </footer>
        </div>
    </div>


    <script>
  //Variables que se mantendran en el objteto principal de la pagina = window
    let ctxLine,
        ctxBar,
        ctxPie,
        optionsLine,
        optionsBar,
        optionsPie,
        configLine,
        configBar,
        configPie,barChart;
        /**
         Para cambiar el contenido dentro de div content con include para mantener unica instacia ROS 
         **/
        $('#navbarSupportedContent').on('click', 'li a', function(e) {
            var _a= $("a[class*='active']")
            console.log("[Current Page]",_a.text())
            var _classes = _a.attr('class').split(" ");
            _a.removeClass(_classes[1]);

            if($(this).text()=="Ventana de producción"){
                $(this).addClass("active")
                $('#content-rows').load("html-content/ventana_produccion.html");
            }
        });

    </script>
    


</body>
</html>
